<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script src="./levelchart.js"></script>
	<script>
		var cp = 2079;
		var iv_atk = 13;
		var iv_def = 14;
		var iv_hp = 12;

		var base_atk = 193;
		var base_def = 310;
		var base_hp = 235;

		function Level (cp, iv_atk, iv_hp, iv_def, base_atk, base_def, base_hp) {
			var atk = iv_atk+base_atk;
			var def = iv_def+base_def;
			var hp = iv_hp+base_hp;

			var cpm = Math.pow((cp*10)/(atk*Math.pow(def,0.5)*Math.pow(hp,0.5)),0.5);

			var indexSmall = 0;

			for (i = 0; i < levelchart.length; i++) {
			  var currentDiff = Math.abs(cpm - levelchart[i][1]);
			  var smallestDiff = Math.abs(cpm - levelchart[indexSmall][1]);
			  if (currentDiff < smallestDiff) {
			    indexSmall = i;
			  }
			}

			var level = levelchart[indexSmall][0];

			return level;
		}
		var level = Level(cp, iv_atk, iv_def, iv_hp, base_atk, base_def, base_hp);
		console.log(level);
	</script>
</body>
</html>